{% extends "food_tracker/layout.html" %}

{% block head %}

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <style>
        .checked {
          color: gold;
        }

        .container {
            margin: auto;
            width: 50%;
            padding: 10px;
            border-radius: 25px;
            text-align: center;
            border: 1px solid black;
        }

        .row {
            display: flex;
        }

        .column {
            flex: 50%;
            padding: 10px;
            border-radius: 25px;
        }

    </style>

{% endblock %}

{% block body %}

    <div class="row">

        <div class="column">

            <div class="container results_product">

                Producten

            </div>

            <br>

            {% for product in products %}

                <div class="container product">

                    <div class="row">

                        <div class="column">

                            {{ product.name }}

                        </div>

                        <div class="column">

                            {% if product in favorites %}

                                <a href="{% url 'delete_product_favorite' product.id %}"><span class="fa fa-star checked"></span></a>

                            {% else %}

                                <a href="{% url 'add_product_favorite' product.id %}"><span class="fa fa-star"></span></a>

                            {% endif %}

                            {% if product.creator == user %}

                                <i class="fa fa-key"></i>

                            {% endif %}

                            <a href="{% url 'faulty_product' product.id %}"><i class="fa fa-exclamation-circle" style="color:red"></i></a>

                        </div>

                    </div>

                    Per 100 {{ product.unit }} :

                    <br>

                    {{ product.calories }} CalorieÃ«n
                    
                    <br>

                    {{ product.carbs }} gram Koolhydraten

                    <br>

                    {{ product.protein }} gram Eiwitten

                    <br>

                    {{ product.fat }} gram Vet

                    <br>

                    {% block add_product_link %}
                    {% endblock %}

                </div>

            {% empty %}

            {% block if_products_empty %}
            {% endblock %}

            {% endfor %}

        </div>

        <div class="column">

            <div class="container results_p">

                Meals

            </div>

            {% for meal in meals %}

                <div class="container meal">
                    
                    {{ meal.name }}

                    {% if meal in favorites %}

                        <a href="{% url 'delete_meal_favorite' meal.id %}"><span class="fa fa-star checked"></a>

                    {% else %}

                        <a href="{% url 'add_meal_favorite' meal.id %}"><span class="fa fa-star"></a>

                    {% endif %}

                    {% if meal.creator == user %}

                        <i class="fa fa-key"></i>

                    {% endif %}

                    <ul>

                        {% for product in meal.product.all %}

                            <li>

                                {{ product.name }}

                            </li>

                        {% endfor %}


                    </ul>

                    {% block add_meal_link %}
                    {% endblock %}
                    
                    <br>

                    {% block extra %}
                    {% endblock %}

                </div>

            {% empty %}

            {% block if_meals_empty %}
            {% endblock %}

            {% endfor %}

        </div>

    </div>

{% endblock %}