{% extends "food_tracker/layout.html" %}

{% block head %}

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <style>

        {% if products %}

            {% if meals %}

                .left {
                    margin-left: auto;
                    margin-right: 50px;
                    width: 300px;
                    padding: 10px;
                    border-radius: 25px;
                }

                .right {
                    margin-left: 50px;
                    margin-right: auto;
                    width: 300px;
                    padding: 10px;
                    border-radius: 25px;
                }

            {% else %}

                .column {
                    margin: auto;
                    width: 300px;
                    padding: 10px;
                    border-radius: 25px;
                }

            {% endif %}

        {% else %}

            .column {
                margin: auto;
                width: 300px;
                padding: 10px;
                border-radius: 25px;
            }

        {% endif %}

    </style>

{% endblock %}

{% block body %}

    {% block header %}
    {% endblock %}

    {% block back_to_search %}
    {% endblock %}

    <div class="row">

        {% if products %}

        <div class="column left">

            <div class="results_container results_product">

                Producten

            </div>

            <br>

            {% for product in products %}

                <div class="results_container product">

                    <div class="row">

                        <div class="thirds">

                            

                        </div>

                        <div class="thirds">

                            {{ product.name }}

                        </div>

                        <div class="thirds">

                            {% if product in favorites %}

                                <a href="{% url 'delete_product_favorite' product.id %}"><span class="fa fa-star checked"></span></a>

                            {% else %}

                                <a href="{% url 'add_product_favorite' product.id %}"><span class="fa fa-star"></span></a>

                            {% endif %}

                            {% if product.creator == user %}

                                <i class="fa fa-key"></i>

                            {% endif %}

                            <a href="{% url 'faulty_product' product.id %}"><i class="fa fa-exclamation-circle" style="color:red"></i></a>

                        </div>

                    </div>

                    {% block add_product_link %}
                    {% endblock %}

                </div>

            {% empty %}

            {% block if_products_empty %}
            {% endblock %}

            {% endfor %}

        </div>

        {% endif %}

        {% if meals %}

        <div class="column right">

            <div class="results_container results_meal">

                Gerechten

            </div>

            <br>

            {% for meal in meals %}

                <div class="results_container meal">

                    <div class="row">

                        <div class="thirds">



                        </div>

                        <div class="thirds">

                            {{ meal.name }}

                        </div>


                        <div class="thirds">

                            {% if meal in favorites %}

                                <a href="{% url 'delete_meal_favorite' meal.id %}"><span class="fa fa-star checked"></a>

                            {% else %}

                                <a href="{% url 'add_meal_favorite' meal.id %}"><span class="fa fa-star"></a>

                            {% endif %}

                            {% if meal.creator == user %}

                                <i class="fa fa-key"></i>

                            {% endif %}

                        </div>

                    </div>

                {% block add_meal_link %}
                {% endblock %}
                    
                <br>

                {% block extra %}
                {% endblock %}

                </div>

            {% empty %}

            {% block if_meals_empty %}
            {% endblock %}

            {% endfor %}

        </div>

        {% endif %}

    </div>

{% endblock %}